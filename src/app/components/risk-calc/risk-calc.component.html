<td-steps mode="vertical">
  <td-step #stepGender label="Gender" sublabel="Are you?">
    <form class="example-form" [formGroup]="genderFormGroup">
      <ng-template matStepLabel>Gender</ng-template>
      <mat-form-field>
        <mat-select placeholder="Male/Female only" [value]="selectedSex" formControlName="genderCtrl" required>
          <mat-option *ngFor="let sex of sexes" [value]="sex.viewValue">
            {{sex.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </form>
  </td-step>
  <td-step #stepAge label="Age Group" sublabel="How old are you?">
    <form class="example-form" [formGroup]="ageGroupFormGroup">
      <ng-template matStepLabel>Age Group</ng-template>
      <mat-radio-group class="example-radio-group" formControlName="ageGroupCtrl" [value]="selectedAge">
        <mat-radio-button class="example-radio-button" *ngFor="let ageGrp of ageGrps" [value]="ageGrp.viewValue">
          {{ageGrp.name}}
        </mat-radio-button>
      </mat-radio-group>

    </form>
  </td-step>
  <td-step #stepEthnic label="Ethnic Group" sublabel="What is your ethnic background?">
    <form class="example-form" [formGroup]="ethnicFormGroup">
      <ng-template matStepLabel>Ethnic</ng-template>
      <mat-radio-group class="example-radio-group" formControlName="ethnicCtrl" [value]="selectedEthnic">
        <mat-radio-button class="example-radio-button" *ngFor="let ethnic of ethnicGrps" [value]="ethnic.viewValue">
          {{ethnic.name}}
        </mat-radio-button>
      </mat-radio-group>

    </form>
  </td-step>
  <td-step #stepFamily label="Family History of Diabetes" sublabel="Do you have a father, mother, brother, sister or own child with type 1 or type 2 diabetes?">
    <form class="example-form" [formGroup]="familyFormGroup">
      <ng-template matStepLabel>Family History</ng-template>
      <app-observation-create [observationDefinition]="obsDef[4]" [observation]="obs[4]"></app-observation-create>
    </form>
  </td-step>
  <td-step #stepWaist label="Waist Size" sublabel="What is your waist size?">
    <form class="example-form" [formGroup]="waistFormGroup">
      <ng-template matStepLabel>Waist Size</ng-template>
          <app-observation-create [observationDefinition]="obsDef[3]" [observation]="obs[3]"></app-observation-create>
    </form>
  </td-step>
  <td-step #stepBMI label="Body Mass Index" sublabel="What is your BMI (body mass index) score?">
    <form class="example-form" [formGroup]="bmiFormGroup">
      <ng-template matStepLabel>BMI</ng-template>
        <app-observation-create [observationDefinition]="obsDef[0]" [observation]="obs[0]"></app-observation-create>
        <app-observation-create [observationDefinition]="obsDef[1]" [observation]="obs[1]"></app-observation-create>
        <app-observation-create [observationDefinition]="obsDef[2]" [observation]="obs[2]"></app-observation-create>
    </form>
  </td-step>
  <td-step #stepBPMed label="Blood Pressure Medications" sublabel="Have you been given medicine for high blood pressure OR told by a doctor that you have high blood pressure?">
    <form class="example-form" [formGroup]="highBPMedsFormGroup">
      <ng-template matStepLabel>Blood Pressure Medications</ng-template>

      <mat-radio-group class="example-radio-group" formControlName="highBPMedsCtrl" >
        <mat-radio-button class="example-radio-button" *ngFor="let family of familyGrps" [value]="family.viewValue">
          {{family.name}}
        </mat-radio-button>
      </mat-radio-group>

    </form>
  </td-step>
  <td-step #stepDone label="Result">
    <ng-template matStepLabel>Done</ng-template>

    <br>
    Your risk level is low
    <br><br>
    There is a 1 in 200 chance that you have type 2 diabetes now and a 1 in 20 chance that you could develop diabetes in the next 10 years.
    <br><br>
    Even though you have been identified as 'low risk', it is important to maintain a healthy lifestyle. Watching what you eat and increasing the amount of activity you do will help to reduce your risk of diabetes.
    <div>

      <button mat-button (click)="onSave()" >Save</button>
    </div>
  </td-step>
</td-steps>
